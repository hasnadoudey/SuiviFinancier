<?xml version="1.0" encoding="UTF-8"  ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>

<link href="#{request.contextPath}/css/images/favicon.ico" rel="icon" type="image/png"/>

  <!-- Styles -->
  <link href="#{request.contextPath}/css/styles.css" rel="stylesheet"/>
  <link href="#{request.contextPath}/css/bootstrap-override.css" rel="stylesheet"/>

  <!-- Font Avesome Styles -->
  <link href="#{request.contextPath}/css/font-awesome/font-awesome.css" rel="stylesheet"/>
	

 
  <link rel="stylesheet" href="#{request.contextPath}/css/flexslider.css" type="text/css" media="screen" />
  
 <f:metadata>
              <f:event type="postAddToView" listener="#{uiUtils.greetOnViewLoad}" update="growlMessages" />
         	  <f:attribute name="firstName" value="#{user.firstName}" />
         	  <f:attribute name="lastName" value="#{user.lastName}" />
         	
         </f:metadata>
	<f:metadata>
              <f:event type="postAddToView" listener="#{uiUtils.greetOnViewLoad}" update="growlMessages" />
         	  <f:attribute name="firstName" value="#{user.firstName}" />
         	  <f:attribute name="lastName" value="#{user.lastName}" />
         	
         </f:metadata>
</h:head>
<body>
 
   <div class="row space40"></div>     
			
 <!-- Header -->
  <div id="header">
  
  <div id="greeting12">
  
        			<c:if test="${not empty currentUser.name}">
        				<b>Bienvenue,</b> ${user.firstName} ${user.lastName} | <a href ="${request.contextPath}/app/logout"><img alt="" title="Logout" src="${request.contextPath}/resources/css/images/logout.png" /></a>
        			</c:if>
        	</div>     	
    <div class="container">
      <div class="row t-container">

        <!-- Logo -->
        <div class="span3">
          <div class="logo">
            <a href="#{request.contextPath}/css/index.htm"><img src="#{request.contextPath}/css/images/logo-header.png" alt=""/></a>
          </div>            
        </div>

        <div class="span9">
          <h:form >
             <nav id="nav" role="navigation">
               	<a href="#nav" title="Show navigation">Show navigation</a>
	            <a href="#" title="Hide navigation">Hide navigation</a>
	            <ul class="clearfix">
                
                
               <li class="active"><h:commandLink id="Link4" value="Utilisateur" action="menu4" /></li>
                   <li class="active"><h:commandLink id="Link7" value="Rôles" action="menu7" /></li>  
                   <li class="active"><h:commandLink id="Link0" value="Contact" action="menu0" /></li>
	           </ul>
          </nav>
          </h:form>
         </div> 
         
      </div> 
       
       <div class="row space40"></div>
               <div class="slider1 flexslider">  <!-- Slider -->
            <ul class="slides">
              <li>
    	    	    <img src="#{request.contextPath}/css/images/slider/1.jpg" alt=""/>
    	    		</li>
    	    		<li>
    	    	    <img src="#{request.contextPath}/css/images/slider/2.jpg" alt=""/>
    	    		</li>
    	    	
            </ul>
          </div>  <!-- Slider End -->
  </div> </div>

    
<h:form >
 <center>
  <p:fieldset styleClass="fieldset" legend="Nouveau Utilisateur" >
                 <p:focus />
                 
    <h:panelGrid  id="logPanelGrid" style="margin: 0 auto; margin-top: 25px; text-align: right" cellspacing="8" columns="3">
                                
                                 <h:panelGroup>
                                        <h:outputText value="Prénom:" />
                                        <h:outputText style="color:red" value="*  " />
                                </h:panelGroup>
                                <p:inputText id="firstName" label="First Name"  value="#{userBean.firstName}"  required="true" title="Enter your First Name!">
                                        <f:validateLength minimum="2" />
                                        <p:ajax event="keyup" update="firstNameMsg" global="false"/>
                                </p:inputText>
                                <h:panelGroup>
                                		<p:message id="firstNameMsg" for="firstName"/>
                                        <p:tooltip for="firstName" styleClass="tooltip" showEvent="focus" hideEvent="blur" />
								</h:panelGroup>
                                <h:panelGroup>
                                        <h:outputText value="Nom:" />
                                        <h:outputText style="color:red" value="*  " />
                                </h:panelGroup>
                                <p:inputText id="lastName" value="#{userBean.lastName}" label="Last Name"  required="true" title="Enter your Last Name!">
                                        <f:validateLength minimum="2" />
                                        <p:ajax event="keyup" update="lastNameMsg" global="false"/>
                                </p:inputText>
                                <h:panelGroup>
                                		<p:message id="lastNameMsg" for="lastName"/>
                                        <p:tooltip for="lastName" styleClass="tooltip" showEvent="focus" hideEvent="blur" />
                                
                                </h:panelGroup>
                               
                                <h:panelGroup>
                                        <h:outputText value="Nom utilisateur:" />
                                        <h:outputText style="color:red" value="*  " />
                                </h:panelGroup>
                                <p:inputText id="userName" value="#{userBean.userName}" required="true" label="User Name" title="Enter your User Name!" >
                                <f:validateLength minimum="2" />
                                <p:ajax event="keyup" update="userNameMsg" global="false" listener="#{userService.checkAvailable}"/>
                                
                                </p:inputText>
                                <h:panelGroup>
                                		<p:message id="userNameMsg" for="userName"/>
                                		<p:tooltip for="userName" styleClass="tooltip" showEvent="focus" hideEvent="blur" />
                                </h:panelGroup>
                                
                                <h:panelGroup>
                                        <h:outputText value="Mot de passe:" />
                                        <h:outputText style="color:red" value="*  " />
                                </h:panelGroup>
                                <p:password id="pass1" value="#{userBean.password}" required="true" label="Password" title="Please enter a password!"  feedback="true" match="pass2">
                                <f:validateLength minimum="2" />
                                
                                </p:password>
                               <p:message id="pass1Msg" for="pass1"/>
                               
                               <h:panelGroup>
                                        <h:outputText value="Repeat Password:" />
                                        <h:outputText style="color:red" value="*  " />
                                </h:panelGroup>
                                <p:password id="pass2"  required="true" label="Password" title="Please enter a password!" />
                                <p:message id="pass2Msg" for="pass2"/>
                                <h:outputText value="" />
                                
                                
                                <h:panelGroup>
                                        <h:outputLabel value="Rôle:" for="role:" />
                                        <h:outputText style="color:red" value="*  " />
                                </h:panelGroup>
                                 
                                <h:selectOneMenu id="role" value="#{userBean.roleId}"  >
                                 <f:selectItem itemLabel="Sélectionner" itemValue="" />
                                 <f:selectItems  value="#{userBean.roleList}"  />                                                    
                                 </h:selectOneMenu>
           
                                
                        </h:panelGrid>
 
   <p:commandButton id="submitButton" action="newproj" action="UtilisateurList?faces-redirect=true" icon="ui-icon-check" value="Valider"  ajax="false" />
    <p:commandButton id="returnButton" action="backProj" immediate="true" icon="ui-icon-arrowreturnthick-1-w" value="Annuler" />  
</p:fieldset>
           </center>
</h:form>

</body></html>